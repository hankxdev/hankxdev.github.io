<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Front-End Engineer, Runner, Web Extension developer.">
  <meta name="keywords" content="blog, Hank, web extension, Chrome Extension, Firefox Addon, Vue, Golang, and Frontend">
  <meta name="author" content="Hank&#39;s Personal Blog">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Hank&#39;s Personal Blog">
  <meta name="twitter:description" content="Front-End Engineer, Runner, Web Extension developer.">
  
    <meta property="twitter:image" content="https://momane.com/img/leonids-logo.png">
  

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="https://momane.com/">
  <meta property="og:title" content="Hank&#39;s Personal Blog">
  <meta property="og:description" content="Front-End Engineer, Runner, Web Extension developer.">
  
    <meta property="og:image" content="https://momane.com/img/leonids-logo.png">
  
  <title>Hank's Personal Blog</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="https://momane.com/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://momane.com/css/main.css">

  <link rel="canonical" href="https://momane.com/">
  <link rel="alternate" type="application/rss+xml" title="Hank&#39;s Personal Blog" href="https://momane.com/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="https://momane.com/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="https://momane.com/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <a href="https://momane.com/">
    <img src="https://momane.com/img/avatar.jpeg" alt="" class="avatar">
  </a>
  
  <a href="https://momane.com/" class="author_name">Hank X</a>
  <span class="author_job">Full Stack Engineer</span>
  <span class="author_bio mbm">Run, Build, Enjoy</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="https://momane.com/">home</a>
      </li>
      
        
          <li class="nav-item">
            <a href="https://momane.com/archive/">Archive</a>
          </li>
        
      
        
      
        
          <li class="nav-item">
            <a href="https://momane.com/categories/">Categories</a>
          </li>
        
      
        
      
        
      
        
          <li class="nav-item">
            <a href="https://momane.com/resume/">Resume</a>
          </li>
        
      
        
          <li class="nav-item">
            <a href="https://momane.com/tags/">Tags</a>
          </li>
        
      
        
      
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('yrstyh@gmail.com', 'Hello from website');</script>
      </li>
    
    <li><a href="http://twitter.com/hankmomane" class="social-link-item" target="_blank"><i class="fa fa-fw fa-twitter"></i></a></li>
    
    
    
    <li><a href="skype:yrstyh" class="social-link-item" target="_blank"><i class="fa fa-fw fa-skype"></i></a></li>
    
    
    
    <li><a href="http://github.com/hankxdev" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    <li><a href="http://stackoverflow.com/users/2095705/hank-x" class="social-link-item" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        
<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        13 JAN 2021
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
        <span>/</span>
        
      
        <a class="post-cat" href="https://momane.com/categories/#front-end">front-end</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-ro-fix-enzyme-expects-an-adapter-to-be-configured" class="post-title" title="How to fix: Enzyme expects an adapter to be configured">How to fix: Enzyme expects an adapter to be configured</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>Working on updating a legacy React project. Itâ€™s still using React 8 and Node 7.9, Iâ€™d like to upgrate it
to the latest React and Node.</p>

<p>The upgrading process was boring and straight forward, I just upgrade the dependencies and fix those broken changes in some
dependencies, luckily most of them do noe need any change.</p>

<h4 id="problem">Problem</h4>
<p>But when I run jest test, there is an error popup in almost every test file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none. To
configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })` 
before using any of Enzyme's top level APIs, where `Adapter` is the adapter 
corresponding to the library currently being tested. For example:

          import Adapter from 'enzyme-adapter-react-16';
</code></pre></div></div>

<p>Searched a bit, it looks like after Enzyme 3.0 and React15, you have to configure the <code class="language-plaintext highlighter-rouge">Adapter</code> to run the tests.</p>

<h4 id="solution">Solution</h4>
<p>To fix it is very simple, just put these lines on the top of your test file:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import { configure } from 'enzyme';
import Adapter from 'enzyme-adapter-react-15';

configure({ adapter: new Adapter() });
</code></pre></div></div>

<p>While <code class="language-plaintext highlighter-rouge">enzyme-adapter-react-15</code> is also needed, you will need to use correct version per your react version.</p>

<p>But, what if your project is very large, it has like more than 30 test files, is it mean that you will need to 
put these line on top of every of your test file?</p>

<p>Of course no, here is what you should do.</p>

<ul>
  <li>create a js file, name it as <code class="language-plaintext highlighter-rouge">jestConfig.js</code> or any name you think is best. put it in any path in your 
project.</li>
  <li>either create a <code class="language-plaintext highlighter-rouge">jest.config.js</code> in your project root or a block in <code class="language-plaintext highlighter-rouge">package.json</code> file</li>
  <li>put/append these content into it:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> "jest": {
    // ... other jest configrations
    "setupFilesAfterEnv": ["&lt;rootDir&gt;/path/to/your/jestConfig.js"],
  }
</code></pre></div></div>

<p>Notice that some tutorial might suggest you to do this with old Enzyme version</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> "jest": {
    // ... other jest configrations
    "setupTestFrameworkScriptFile": "&lt;rootDir&gt;/path/to/your/jestConfig.js"
  }
</code></pre></div></div>

<p>In newer version the key has been changed from <code class="language-plaintext highlighter-rouge">setupTestFrameworkScriptFile</code> to <code class="language-plaintext highlighter-rouge">setupFilesAfterEnv</code>, and 
you can use multiple config file since it now uses array as value.</p>

<h4 id="what-about-react-17">what about React 17</h4>

<p>While the most recent official <code class="language-plaintext highlighter-rouge">ezyme-adapter-react</code> is for 16, the 17 is not surpported yet, so if you 
are using React 17, here is another unofficial package you can use <a href="https://www.npmjs.com/package/@wojtekmaj/enzyme-adapter-react-17">@wojtekmaj/enzyme-adapter-react-17</a></p>

<p>It has more than 6k downloads every week now, seems reliable.</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        14 DEC 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#life">life</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/why-you-should-not-buy-logitech-k380-keyboard" class="post-title" title="ä¸ºä»€ä¹ˆä¸è¦ä¹°ç½—æŠ€K380æ— çº¿é”®ç›˜">ä¸ºä»€ä¹ˆä¸è¦ä¹°ç½—æŠ€K380æ— çº¿é”®ç›˜</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>ç½—æŠ€K380æ— çº¿é”®ç›˜ï¼Œè¢«å¾ˆå¤šå¹³å°å¹ä¸ºå‡ ä¹æœ€ä½³çš„ç§»åŠ¨è®¾å¤‡ä¼´ä¾£é”®ç›˜ï¼Œæ·±å—å¾ˆå¤šiPadä¹ƒè‡³MacBookç”¨æˆ·çš„æ¬¢è¿ã€‚</p>

<p>å…¶ä¼˜ç‚¹æœ‰ï¼šè“ç‰™è¿æ¥ï¼Œæœ€å¤šå¯ä»¥è¿æ¥ä¸‰å°è®¾å¤‡ï¼Œåˆ‡æ¢ä¾¿æ·ã€‚è½»è–„å°å·§ï¼Œæ‰‹æ„Ÿå’Œç¬”è®°æœ¬é”®ç›˜éå¸¸ç›¸ä¼¼ã€‚è€Œå¤šè‰²é”®å¸½æ›´æ»¡è¶³äº†ä¸åŒå®¡ç¾ç”¨æˆ·çš„éœ€æ±‚ã€‚</p>

<p>å› ä¸ºæœ‰ç§»åŠ¨åŠå…¬çš„éœ€æ±‚ï¼Œè€ŒMacbookçš„é”®ç›˜æ‰‹æ„Ÿå®åœ¨å¤ªçƒ‚ï¼Œæ‰€ä»¥å‰æ®µæ—¶é—´æˆ‘ä¹Ÿä¹°äº†ä¸€ä¸ªï¼Œç”¨äº†ä¸å¤šå‡ æ¬¡å‘ç°è¿™æ˜¯ä¸€ä¸ªéå¸¸çƒ‚çš„é”®ç›˜ã€‚</p>

<p>æ‰‹æ„Ÿå·®å…¶å®æ²¡æœ‰ä»€ä¹ˆå¯ä»¥æŒ‘å‰”çš„ï¼Œè¦åšåˆ°è½»è–„å°å·§ï¼Œå¿…ç„¶ç‰ºç‰²é”®ç¨‹å’Œæ‰‹æ„Ÿã€‚</p>

<p>ä½†æ˜¯å…¶åšå·¥å’Œç”¨æ–™å´éå¸¸å·®ï¼Œæ”¾åœ¨åŒ…é‡ŒèƒŒäº†å‡ æ¬¡ï¼Œå°±æ‰äº†ä¸€ä¸ªé”®ã€‚ä¸åƒå…¶ä»–é”®ç›˜ï¼Œé”®å¸½æ‰äº†ä»¥åæŒ‰ä¸Šå»å°±å¯ä»¥äº†ã€‚K380çš„è¿™ä¸ªé”®å¸½æˆ‘æ€ä¹ˆè£…éƒ½è£…ä¸ä¸Šå»ã€‚</p>

<p>çœ‹äº†ä¸€ä¸‹è¿˜åœ¨ä¿ä¿®æœŸå†…ï¼Œå°±é€å›äº¬ä¸œå”®åç»´ä¿®ã€‚</p>

<p>ç„¶è€Œäº¬ä¸œæœ€ç»ˆç»™çš„ç­”å¤æ˜¯ï¼Œé”®å¸½æ‰è½å±äºå¤–è§‚æŸä¼¤ï¼Œä¸å±äºè´¨é‡é—®é¢˜ï¼Œæ‹’ç»ä¿ä¿®ã€‚ç›´æ¥è¿”å›æ¥äº†ã€‚</p>

<p>è¿”å›åæˆ‘ä¸€çœ‹ï¼Œä¸ä½†æ‰è½çš„é”®æ²¡æœ‰è£…ä¸Šå»ï¼Œæ—è¾¹è¿˜å¤šæ‰äº†ä¸€ä¸ªé”®ã€‚ä»”ç»†çœ‹äº†ä¸€ä¸‹ï¼Œä¹‹å‰æ‰è½çš„é”®é‡Œé¢çš„å¡ä»¶å·²ç»è¢«æŒ‰å¹³ï¼Œæ‰€ä»¥å¯ä»¥çŒœæƒ³æ˜¯äº¬ä¸œçš„å”®åäººå‘˜å…ˆæ˜¯å°è¯•å°†æŒ‰é”®æŒ‰ç…§ä¼ ç»Ÿæ–¹å¼æŒ‰å›å»ï¼Œæš´åŠ›æŒ‰äº†å‡ ä¸‹ä»¥åå‘ç°è£…ä¸ä¸Šï¼Œ
ç„¶ååˆæƒ³æ‹†æ—è¾¹çš„é”®çœ‹ä¸€ä¸‹ç»“æ„æ€ä¹ˆè£…ã€‚</p>

<p>ç»“æœæ‹†äº†ä»¥åæ²¡çœ‹å‡ºæ‰€ä»¥ç„¶æ¥ï¼Œæ–°æ‹†çš„è¿™ä¸ªé”®ä¹Ÿè£…ä¸å›å»äº†ã€‚å°±æŠŠé”®ç›˜æŒ‰é”®è¿™ç§æ ¸å¿ƒéƒ¨ä»¶è¯´æˆå¤–è§‚æ‹’ç»ä¿ä¿®äº†ã€‚</p>

<p>è¯è¯´æœ€è¿‘åœ¨å¦å¤–ä¸€ä¸ªç½‘ç«™çœ‹åˆ°æœ‰äººçš„è€³æœºç½©åœ¨ä¿ä¿®æœŸå†…è‡ªåŠ¨è£‚å¼€ï¼Œå†…éƒ¨éƒ¨ä»¶å¤–éœ²ï¼Œé€åˆ°äº¬ä¸œä¹Ÿæ˜¯ä»¥å±äºå¤–è§‚é—®é¢˜ä¸äºˆä¿ä¿®æ‹’ç»å”®åã€‚</p>

<p>ä¸çŸ¥é“äº¬ä¸œä»¥ç›¸ä¼¼çš„ç†ç”±æ‹’ç»äº†å¤šå°‘ä¿ä¿®ã€‚</p>

<p>åæ§½å®Œäº¬ä¸œï¼Œå†ä»”ç»†ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªé”®ç›˜ï¼Œå…¶å‰ªåˆ€è„šç»“æ„æ˜¯çº¯å¡‘æ–™ï¼Œè€Œä¸”æ˜¯éå¸¸è„†å¼±çš„é‚£ç§ï¼Œç¨å¾®ç”¨ç‚¹åŠ›å°±å¾ˆå®¹æ˜“å˜å½¢ä¹ƒè‡³æ–­æ‰ï¼Œè¿™ä¸ªé”®å°±æ²¡ç”¨äº†ã€‚è€Œé”®å¸½ä¸‹é¢çš„è¿æ¥ä»¶ä¹Ÿæ˜¯éå¸¸å°è€Œè½¯çš„é‡‘å±æŒ‚é’©ï¼Œå¾ˆå®¹æ˜“å˜å½¢ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç»™æ°å›æ¥ï¼Œä½†æ˜¯å¦‚æœæ°æ¬¡æ•°å¤šäº†ï¼Œå°±ä¼šæ–­æ‰ã€‚</p>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å¦‚æœä½ çš„K380é”®å¸½æ‰äº†ï¼Œåƒä¸‡ä¸è¦åƒå…¶ä»–é”®ç›˜é‚£æ ·ï¼Œå°è¯•ç”¨åŠ›å°†é”®å¸½æŒ‰å›å»ï¼Œä¸ä½†è£…ä¸å›å»ï¼Œè¿˜æœ‰å¯èƒ½æ°¸ä¹…æŸä¼¤é”®å¸½ç”šè‡³é”®å¸½ä¸‹é¢çš„è¿æ¥ä»¶</strong>ï¼Œè¿æ¥ä»¶ä¸€æ—¦åäº†ï¼Œé”®ç›˜å°±åºŸäº†ï¼Œé™¤éä½ èƒ½æ¥å—é”®ç›˜å°‘ä¸€ä¸ªé”®ã€‚</p>

<p>å¦‚æœæŸä¼¤é”®å¸½ï¼Œæ·˜å®ä¸Šæœ‰å‡ å®¶å–çš„ï¼Œä¼°è®¡å°±æ˜¯é€ä¿®æˆ–è€…æŠ¥åºŸçš„k380æ‹†äº†å–é›¶ä»¶çš„ã€‚</p>

<p>ä¸€ä¸ªé”®å¸½æ˜¯10å—é’±èµ·ï¼Œä¸‹é¢çš„å‰ªåˆ€è„šä¹Ÿæ˜¯10å—ï¼Œä¸åŒ…é‚®ã€‚å–ä¸€æ’é”®å¸½å°±èƒ½ä¹°ä¸€ä¸ªæ–°çš„K380ã€‚</p>

<p>æ‰€ä»¥å¦‚æœä½ çš„K380é”®å¸½åäº†ï¼Œä¸è¦å»ä¹°é”®å¸½ï¼Œä¸Šæ·˜å®æˆ–è€…å…¶ä»–äºŒæ‰‹å¹³å°å–é”®å¸½ï¼Œç„¶åæ‹¿æ¢æ¥çš„é’±ä¹°ä¸€æŠŠæ–°çš„é”®ç›˜ã€‚</p>

<p>å½“ç„¶ä¹°æ–°é”®ç›˜åƒä¸‡åˆ«å†ä¹°k380äº†ã€‚</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        18 OCT 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-copy-image-and-text-to-clipboard-with-javascript" class="post-title" title="How to copy image and text to clipboard with JavaScript">How to copy image and text to clipboard with JavaScript</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>I used to saw my colleague add a 30kb lib only to implement a copy function
 that when user clicks on a text, copy it to the clipboard.</p>

<p>And I also saw someone still trying to use flash or Clipboard lib to do same thing.</p>

<h4 id="here-is-how-to-copy-text-to-your-clipboard-with-javascript">Here is how to copy text to your clipboard with JavaScript</h4>
<p>with just several lines of code. And itâ€™s cross browser
and device. No need to any 3rd party lib.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">copyToClipboard</span><span class="p">(</span><span class="nx">text</span><span class="p">){</span>
 <span class="kd">const</span> <span class="nx">ta</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">textarea</span><span class="dl">'</span><span class="p">);</span>
 <span class="nx">ta</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>
 <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span>
 <span class="c1">//hide it</span>
 <span class="nx">ta</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">padding</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
 <span class="nx">ta</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">border</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
 <span class="nx">ta</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">outline</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
 <span class="nx">ta</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">boxShadow</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
 <span class="c1">//select the text</span>
 <span class="nx">ta</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
 <span class="nx">ta</span><span class="p">.</span><span class="nx">select</span><span class="p">();</span>
 <span class="nb">document</span><span class="p">.</span><span class="nx">execCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">copy</span><span class="dl">'</span><span class="p">);</span>
 <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">ta</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>itâ€™s very simple, you just append an invisible textarea to the page, set value as the text you want to copy,
and run <code class="language-plaintext highlighter-rouge">document.execCommand('copy')</code>. Then remove the textarea from the page.</p>

<h4 id="here-is-how-to-copy-image-to-your-clipboard-with-javascript">here is how to copy image to your clipboard with JavaScript</h4>
<p>Note that this one only works on Chrome and Edge right now (2020-10)
https://caniuse.com/mdn-api_clipboarditem</p>

<p>This requires you to use <code class="language-plaintext highlighter-rouge">canvas</code> to port image to blob first.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">imageToBlob</span><span class="p">(</span><span class="nx">imageURL</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">canvas</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="dl">"</span><span class="s2">2d</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">img</span><span class="p">.</span><span class="nx">crossOrigin</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
  <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imageURL</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">img</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">c</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">naturalWidth</span><span class="p">;</span>
      <span class="nx">c</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">naturalHeight</span><span class="p">;</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
      <span class="nx">c</span><span class="p">.</span><span class="nx">toBlob</span><span class="p">((</span><span class="nx">blob</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// here the image is a blob</span>
        <span class="nx">resolve</span><span class="p">(</span><span class="nx">blob</span><span class="p">)</span>
      <span class="p">},</span> <span class="dl">"</span><span class="s2">image/png</span><span class="dl">"</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Then use the <code class="language-plaintext highlighter-rouge">Clipboard</code> API to do the magic</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">copyImage</span><span class="p">(</span><span class="nx">imageURL</span><span class="p">){</span>
  <span class="kd">const</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">imageToBlob</span><span class="p">(</span><span class="nx">imageURL</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">item</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ClipboardItem</span><span class="p">({</span> <span class="dl">"</span><span class="s2">image/png</span><span class="dl">"</span><span class="p">:</span> <span class="nx">blob</span> <span class="p">});</span>
  <span class="nb">navigator</span><span class="p">.</span><span class="nx">clipboard</span><span class="p">.</span><span class="nx">write</span><span class="p">([</span><span class="nx">item</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Simple as that.</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        15 SEP 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/debug-webpage-on-mobile-and-wechat-in-chrome" class="post-title" title="å¦‚ä½•åœ¨ç”µè„‘ä¸Šè°ƒè¯•æ‰‹æœºçœŸæœºç½‘é¡µä»¥åŠå¾®ä¿¡æµè§ˆå™¨ç½‘é¡µ">å¦‚ä½•åœ¨ç”µè„‘ä¸Šè°ƒè¯•æ‰‹æœºçœŸæœºç½‘é¡µä»¥åŠå¾®ä¿¡æµè§ˆå™¨ç½‘é¡µ</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>é‡åˆ°ä¸ªéœ€æ±‚éœ€è¦è°ƒè¯•åœ¨å¾®ä¿¡ä¸­æ‰“å¼€çš„ç½‘é¡µã€‚ä¹‹å‰æ²¡æœ‰åšè¿‡ï¼Œæœäº†ä¸€åœˆé‚£ä¸ªæ‰€è°“çš„åœ¨å¾®ä¿¡å¯¹è¯æ¡†ä¸­æ‰“å¼€debugx5.qq.comçš„æ–¹æ³•å·²ç»è¿‡æ—¶æ— ç”¨ï¼Œ æ‰“å¼€å°±æ˜¾ç¤ºä½ æ‰€ä½¿ç”¨å¯¹å†…æ ¸éX5å†…æ ¸ã€‚è‡³äºTBStoolæ›´æ˜¯åœ¨2017å¹´å°±å·²ç»åœæ­¢æ›´æ–°ï¼Œæ‰“å¼€å°±é—ªé€€ï¼Œæµªè´¹æ—¶é—´å®‰è£…ã€‚</p>

<p>çœ‹æ¥å› ä¸ºå¼€å‘äººå‘˜å¯¹QQæå‡ºæ¥çš„X5å†…æ ¸æ€¨å£°è½½é“ï¼Œæ‰€ä»¥å¾®ä¿¡ä¸å¾—ä¸å¦¥åï¼Œå¼ƒç”¨äº†X5å†…æ ¸ä½œä¸ºå†…ç½®æµè§ˆå™¨å†…æ ¸äº†ã€‚</p>

<p>è‡³äºspy-debuggerç­‰å·¥å…·ï¼Œæˆ‘å«Œéº»çƒ¦ä¹Ÿæ²¡è£…ã€‚</p>

<p>æ‰¾åŠå¤©æ‰¾ä¸åˆ°æœ‰ç”¨çš„æ–¹æ³•ï¼Œå¥½åœ¨åŒæ ·çš„é—®é¢˜åœ¨æ‰‹æœºä¸Šçš„Chromeé‡Œé¢æ‰“å¼€ä¹Ÿå­˜åœ¨ï¼Œäºæ˜¯å°±æƒ³å…ˆåœ¨Chromeé‡Œè°ƒè¯•ï¼Œä¸‡ä¸€èƒ½ä¸€èµ·ä¿®å¤äº†å‘¢ã€‚</p>

<p>æ²¡æƒ³åˆ°å°±å‘ç°äº†Chromeè°ƒè¯•å·¥å…·å±…ç„¶ä¹Ÿå¯ä»¥è°ƒè¯•å¾®ä¿¡æµè§ˆå™¨é‡Œæ‰“å¼€çš„é¡µé¢ã€‚çœ‹èµ·æ¥å¾®ä¿¡å†…å»ºæµè§ˆå™¨ä¹Ÿé‡‡ç”¨äº†Chromiumå†…æ ¸äº†ã€‚</p>

<p>ä»¥ä¸‹æ­¥éª¤åŒæ—¶é€‚ç”¨äºåœ¨ç”µè„‘ä¸Šè°ƒè¯•æ‰‹æœºæµè§ˆå™¨ç½‘é¡µè°ƒè¯•å’Œå¾®ä¿¡å†…å»ºæµè§ˆå™¨ç½‘é¡µï¼Œ ç›®å‰åªé™Androidç³»ç»Ÿã€‚iPhoneè¿˜æ²¡å»çœ‹ã€‚</p>

<ul>
  <li>
    <p>æ‰“å¼€æ‰‹æœºçš„å¼€å‘è€…æ¨¡å¼ï¼Œè¿™ä¸ªå„ä¸ªæ‰‹æœºæ‰“å¼€æ–¹å¼éƒ½å·®ä¸å¤šï¼Œé€šè¿‡å¤šæ¬¡ç‚¹å‡»ç‰ˆæœ¬å·æ¥å¼€å¯ã€‚</p>
  </li>
  <li>
    <p>åœ¨å¼€å‘è€…æ¨¡å¼é‡Œé¢æ‰“å¼€ USB è°ƒè¯•åŠŸèƒ½</p>
  </li>
  <li>
    <p>æŠŠä½ è¦è°ƒè¯•çš„ç½‘å€å‘é€åˆ°å¾®ä¿¡å¯¹è¯æ¡†é‡Œï¼Œç„¶åç‚¹å‡»æ‰“å¼€</p>
  </li>
  <li>
    <p>å°†æ‰‹æœºé€šè¿‡USBæ•°æ®çº¿è¿æ¥åˆ°ç”µè„‘</p>
  </li>
  <li>
    <p>åœ¨ç”µè„‘ä¸Šæ‰“å¼€Chromeæµè§ˆå™¨</p>
  </li>
  <li>
    <p>æ–°å»ºä¸€ä¸ªæ ‡ç­¾é¡µï¼Œè¾“å…¥ç½‘å€ <code class="language-plaintext highlighter-rouge">chrome://inspect/#devices</code>ã€‚ä»¥å‰ä½ éœ€è¦åœ¨ Chrome çš„å¼€å‘è€…å·¥å…·é‡Œé¢é€šè¿‡ç‚¹å‡»å¤šä¸ªèœå•æ¥æ‰“å¼€ï¼ŒChromeç°åœ¨å°†è¿™ä¸ªé¡µé¢ç‹¬ç«‹å‡ºæ¥äº†ï¼Œä½“éªŒæ›´ä½³ã€‚</p>
  </li>
  <li>
    <p>è¿™æ—¶å€™ä½ çš„æ‰‹æœºåº”è¯¥ä¼šæ”¶åˆ° <code class="language-plaintext highlighter-rouge">å…è®¸å½“å‰è¿æ¥çš„è®¾å¤‡è®¿é—®æ‰‹æœºæ•°æ®</code> çš„é€šçŸ¥ï¼Œç‚¹å‡»å…è®¸å³å¯</p>
  </li>
  <li>
    <p>åœ¨ç”µè„‘ç«¯ Chrome çš„ <code class="language-plaintext highlighter-rouge">chrome://inspect/#devices</code> é‡Œé¢å°±åº”è¯¥èƒ½çœ‹åˆ°ä½ æ‰‹æœº Chrome é‡Œé¢æ‰“å¼€çš„é¡µé¢äº†</p>
  </li>
  <li>
    <p>åŒæ—¶å¦‚æœä½ å·²ç»åœ¨å¾®ä¿¡å†…å»ºæµè§ˆå™¨é‡Œæ‰“å¼€äº†ç½‘é¡µï¼Œä½ åº”è¯¥ä¹Ÿèƒ½çœ‹åˆ°ä¸€ä¸ªåä¸º <code class="language-plaintext highlighter-rouge">com.tencent.mm</code> çš„æµè§ˆå™¨é‡Œé¢æ‰“å¼€äº†ä¸€ä¸ªé¡µé¢ã€‚
<img src="../img/chrome-mobile-debug-devices.png" /></p>
  </li>
  <li>
    <p>ç‚¹å‡»ç½‘å€ä¸‹é¢çš„ <code class="language-plaintext highlighter-rouge">inspect</code> å°±å¯ä»¥æ‰“å¼€è°ƒè¯•é¡µé¢ï¼Œå…¶æ‹¥æœ‰ç”µè„‘ç«¯Chromeå¼€å‘å·¥å…·çš„å‡ ä¹æ‰€æœ‰è°ƒè¯•åŠŸèƒ½ã€‚
<img src="../img/chrome-mobile-debug-website.png" /></p>
  </li>
</ul>

<p>ä¸å¾—ä¸è¯´å‘ç°è¿™ç‚¹è¿˜æ˜¯æŒºæƒŠå–œçš„ã€‚</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        10 SEP 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/shout-out-to-jetbrains-ide" class="post-title" title="Shout out to Jetbrains IDE">Shout out to Jetbrains IDE</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><a href="https://www.jetbrains.com/?from=one-click-extensions-manager" target="_blank"><img src="../assets/jetbrains.svg" style="width:200px;" /></a></p>

<p>I write this post because <a href="https://www.jetbrains.com/?from=one-click-extensions-manager">Jetbrains</a> just gave me full access to all its tools as an open source project developer.
So I just want to say thanks with this post.</p>

<p>After I tried Webstorm for several days, I found itâ€™s much better than VS Code.</p>

<p>What am I saying, Webstorm is a commercial software, while VS Code is open source and free. ğŸ˜…</p>

<p>Anyway, I found myself coding much faster with Webstorm and other <a href="https://www.jetbrains.com/?from=one-click-extensions-manager">Jetbrains</a> tools. Like, I donâ€™t have to pick and configure all those extensions carefully to make so that it wonâ€™t popup css selector when Iâ€™m coding JavaScript. Webstorm also has built-in spell check, itâ€™s like a life saver for non-native English speaker.</p>

<p>Some people might think that VS code eats less RAM than Webstorm, also faster when launching.  While  my computer has 32 GB RAM and i7, so I never need to care about the RAM. Plus, if you install and enable too many extensions, you can also notice that VS Code takes a lot of RAM too.</p>

<p>And I barely need to code some stuff within 30 sec, so the launching time is not an issue to me too. This is not mean Iâ€™m not gonna use VS Code, itâ€™s still great, especially it can edit any programming languages, with extensions.</p>

<p>Its price is also reasonable, for individual, most of the tools are between $59 - $69 for the first year, cheaper for the next years.</p>

<p>It also has many free plans, students, teachers, etc. If you are an active open source developer, you can even ask for a free license.</p>

<p>Like me, since I have this small open source project <a href="https://github.com/hankxdev/one-click-extensions-manager">one click extensions manager</a>, it has more than 30k users.</p>

<p><a href="https://www.jetbrains.com/?from=one-click-extensions-manager">Jetbrains</a> gives me full access to all its tools for a year, and can be re-subscribed every year.</p>

<p>So if you also have open source project, try to apply for its license and try this great IDE :D</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        29 AUG 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-zip-only-source-code" class="post-title" title="Use git archive to zip your source code">Use git archive to zip your source code</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>To zip compiled project file is easy, normally I just use <a href="">archivejs</a>, write a small nodejs script, and then add a script in <code class="language-plaintext highlighter-rouge">package.json</code>.</p>

<p>And then I need to zip the source code only. Exclude the dist folder, the huge <code class="language-plaintext highlighter-rouge">node_modules</code> folder and other folders.</p>

<p>Basically just source code and exclude everything in .gitignore file.</p>

<p>I tried to use <code class="language-plaintext highlighter-rouge">archivejs</code>â€™s <code class="language-plaintext highlighter-rouge">glob</code> api. Like so:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">archive</span><span class="p">.</span><span class="nx">glob</span><span class="p">(</span><span class="dl">'</span><span class="s1">**</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">ignore</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">folder/**</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">file</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre></div></div>

<p>But I could not make it works, it either zip nothing or zip everything in my folder, I think itâ€™s because the path that I set is not correct. And I donâ€™t want to 
spend too much time on reading and exploring archivejsâ€™s api doc.</p>

<p>So I came to use <code class="language-plaintext highlighter-rouge">zip</code> command in terminal. To use it is very simple, just use <code class="language-plaintext highlighter-rouge">-x</code> to exclude file, like this</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zip <span class="nt">-r</span> output.zip directory <span class="nt">-x</span> <span class="se">\*\*</span>/<span class="se">\*</span>/node_modules/<span class="se">\*</span>
</code></pre></div></div>

<p>Which is great. But the command is too long and if there are many files you want to exclude, you will need to write down them every time.</p>

<p>At the same time I found that with <code class="language-plaintext highlighter-rouge">git archive</code> I can do this easily. so just run</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git archive <span class="nt">--format</span><span class="o">=</span>zip HEAD <span class="nt">-o</span> zipfile.zip
</code></pre></div></div>

<p>it will pack all your source code into zip file, exclude everything in the .gitignore file. Super neat.</p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        6 AUG 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-use-jquery-with-typescript" class="post-title" title="how to use jQuery with TypeScript">how to use jQuery with TypeScript</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>Itâ€™s 2020, why do you still need to use jQuery?</p>

<p>Yeah, jQuery has 53.8k stars on Github. And still, there are more than 97% of websites are using it.</p>

<p>Even if you donâ€™t want to use it in your fancy project. Itâ€™s still a good choice to use it when you are building a demo, prototype, or some small side project. I mean, when you are configuring your fancy project with wepack, react/vue/angular, babel, I already have done a small page which can send request to the API and show the result on the page.</p>

<p>Anyway, if you want to use jQuery with TypeScript. Here are the steps that you need to do.</p>

<h4 id="add-jquery">add jquery</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add jquery
</code></pre></div></div>

<h3 id="add-jquery-types">add jquery types</h3>

<p>this will suppress VS Code complains that it can not find jquery types</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add @types/jquery
</code></pre></div></div>

<h3 id="config-tsconfigjson-to-suppress-another-warning-message">config tsconfig.json to suppress another warning message</h3>

<blockquote>
  <p>can only be default-imported using the â€˜allowSyntheticDefaultImportsâ€™ flagts(1259)
index.d.ts(35, 1): This module is declared with using â€˜export =â€™, and can only be used with a default import when using the â€˜allowSyntheticDefaultImportsâ€™ flag.</p>
</blockquote>

<p>goto your <code class="language-plaintext highlighter-rouge">tsconfig.json</code> file, add one line in your the <code class="language-plaintext highlighter-rouge">compilerOptions</code> block. if you donâ€™t have this tsconfig file in your projectâ€™s root folder, then create one.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"allowSyntheticDefaultImports"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="err">,</span><span class="w">
</span></code></pre></div></div>

<p>Then you can use jquery in your ts file like this:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">$</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">jquery</span><span class="dl">'</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">().</span><span class="nx">then</span><span class="p">().</span><span class="k">catch</span><span class="p">().</span><span class="nx">finnally</span><span class="p">()</span>
</code></pre></div></div>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        5 AUG 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/a-wechat-mini-app-with-taro-vue" class="post-title" title="ç”¨ Taro å’Œ Vue å†™äº†ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº">ç”¨ Taro å’Œ Vue å†™äº†ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>æœ€è¿‘å°è¯•å†™å¾®ä¿¡å°ç¨‹åºï¼Œæ¯•ç«Ÿæ˜¯ç°åœ¨çš„è¶‹åŠ¿ã€‚ç„¶åå‘ç°å› ä¸ºå…¥åœºå¤ªæ™šï¼Œå„ç§è½®å­å·²ç»é€ å¾—éåœ°é£äº†ã€‚æ¯”å¦‚è¿™é‡Œæœ‰ä¸€ä¸ªæ¡†æ¶ï¼Œå‡ºè‡ªäº¬ä¸œï¼Œå«åšTaroï¼Œå®ƒçš„ç›®çš„æ˜¯å†™ä¸€ä»½ä»£ç ï¼Œå°±å¯ä»¥åœ¨è¯¸å¦‚å¾®ä¿¡ã€æ”¯ä»˜å®ã€å­—èŠ‚è·³åŠ¨ï¼ˆå®ƒå®¶çš„ä»€ä¹ˆappæ”¯æŒå°ç¨‹åºï¼Ÿï¼‰ç­‰ç«¯ä½œä¸ºå°ç¨‹åºè¿è¡Œã€‚</p>

<p>äºæ˜¯æ‹¿æ¥è¯•äº†ä»¥ä¸‹ã€‚æˆ‘æœ¬æ¥åªç†Ÿæ‚‰Vueçš„ï¼Œè¿™ä¸ªTaroåŸç”Ÿæ”¯æŒReactï¼Œä»£ç é£æ ¼ä¹Ÿéƒ½æ˜¯Reactçš„æ ·å¼ã€‚è™½è¯´ç°åœ¨3.0ä»¥ä¸Šæ”¯æŒVueäº†ï¼Œå¯æ˜¯è¦åšçš„æ—¶å€™è¿˜æ˜¯æœ‰ä¸€äº›è½¬æ¢æˆæœ¬ã€‚</p>

<p>ç„¶åæ¡†æ¶æœ¬èº«ä¹Ÿè¿˜å­˜åœ¨ä¸€äº›bugï¼Œä¸è¿‡ä¸€æ¬¡ç¼–å†™ï¼Œå¤šç«¯è¿è¡Œè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚</p>

<p>é¡¹ç›®åœ°å€ï¼šhttps://github.com/hankxdev/taro-v2ex</p>

<p>ä»¥ä¸‹å†…å®¹æ¥è‡ªREADMEï¼š</p>

<h3 id="taro--taro-ui--vue--v2ex-api-å¤šç«¯å°ç¨‹åº">Taro + Taro-UI + Vue + V2EX API å¤šç«¯å°ç¨‹åº</h3>

<p>å¦‚é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨äº†è¿™å‡ ä¸ªæŠ€æœ¯çš„ç»ƒä¹ é¡¹ç›®ã€‚æˆ‘æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨Taroå’Œå†™å¾®ä¿¡å°ç¨‹åºã€‚Taroå®˜æ–¹æœ‰ä¸ª<a href="https://taro-docs.jd.com/taro/docs/guide/">æ¸è¿›å¼æ•™ç¨‹</a>ï¼Œä½¿ç”¨çš„ä¹Ÿæ˜¯V2EXçš„APIã€‚</p>
<h4 id="æŠ€æœ¯æ ˆ">æŠ€æœ¯æ ˆï¼š</h4>
<ul>
  <li><a href="https://github.com/NervJS/taro">Taro</a></li>
  <li><a href="https://github.com/NervJS/taro-ui">Taro-UI</a></li>
  <li><a href="http://taro-ui-vue.fontend.com/">Taro-ui-vue</a></li>
  <li><a href="https://github.com/igaozp/V2EX-API">V2EX API</a></li>
  <li>Vue</li>
  <li>Vuex</li>
  <li>SCSS</li>
  <li>Typescript</li>
</ul>

<h4 id="æœ¬åœ°è¿è¡Œå’Œæµ‹è¯•">æœ¬åœ°è¿è¡Œå’Œæµ‹è¯•</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">yarn</code></li>
  <li><code class="language-plaintext highlighter-rouge">yarn dev:weapp</code></li>
  <li>å› ä¸ºè°ƒç”¨äº†v2ex çš„APIï¼Œç”¨è‡ªå·±çš„å¾®ä¿¡å°ç¨‹åºIDçš„è¯ï¼Œéœ€è¦å»åå°è®¾ç½®ä¸€ä¸‹åŸŸåç™½åå•ï¼Œå¦åˆ™ API è°ƒç”¨ä¼šå¤±è´¥ã€‚</li>
</ul>

<h4 id="æ¯”æ•™ç¨‹å¤šäº†ä¸€äº›çš„æ˜¯">æ¯”æ•™ç¨‹å¤šäº†ä¸€äº›çš„æ˜¯ï¼š</h4>
<ul>
  <li>ä»£ç å®Œæ•´ã€‚å®˜æ–¹æ•™ç¨‹çš„ä»£ç æ¯”è¾ƒé›¶æ•£ï¼Œç”šè‡³æœ‰äº›è·‘ä¸é€šã€‚</li>
  <li>ç”¨æˆ·è¯¦æƒ…é¡µé¢å’ŒèŠ‚ç‚¹è¯¦æƒ…é¡µé¢</li>
  <li>å…¨éƒ¨ä½¿ç”¨çœŸæ­£çš„V2EX API è€Œä¸æ˜¯ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®</li>
  <li>è‡ªå®šä¹‰ Tabbar</li>
  <li>ä½¿ç”¨äº†Taro-UIæ¥åšç•Œé¢</li>
</ul>

<h4 id="é¡¹ç›®å­˜åœ¨çš„é—®é¢˜">é¡¹ç›®å­˜åœ¨çš„é—®é¢˜ï¼š</h4>
<p>ä»¥ä¸‹æ˜¯æˆ‘çŸ¥é“çš„ä¸»è¦é—®é¢˜ã€‚å¤§ä½¬ä»¬å¦‚æœå‘ç°æ–°é—®é¢˜æˆ–è€…çŸ¥é“è¿™äº›é—®é¢˜çš„ç­”æ¡ˆï¼Œæ¬¢è¿æ issues æˆ–è€… PRï¼Œ æœ›ä¸åèµæ•™ã€‚</p>

<ul>
  <li>å‡ ä¸ªé¡µé¢åœ¨åˆ‡æ¢çš„æ—¶å€™å¹¶ä¸ä¼šåˆ·æ–°ã€‚è¿™é‡Œæ€€ç–‘æ˜¯Taroçš„bugï¼Œæ–‡æ¡£ä¸­å†™çš„ <a href="https://nervjs.github.io/taro/docs/vue/#onshow-1">onShow</a> æ–¹æ³•å¹¶ä¸èƒ½åœ¨é¡µé¢æ˜¾ç¤ºçš„æ—¶å€™è¢«æˆåŠŸè°ƒç”¨ã€‚</li>
  <li>ä¸æ€ä¹ˆå¥½çœ‹ã€‚å› ä¸ºä¸»è¦ç”¨æ¥ç†Ÿæ‚‰Taroä»¥åŠå¾®ä¿¡å°ç¨‹åºå’Œå¤šç«¯å°ç¨‹åºå¼€å‘ï¼Œå› æ­¤å¹¶æœªåœ¨ç•Œé¢ä¸ŠèŠ±åŠŸå¤«ï¼Œå‡ ä¹æ²¡æœ‰æ€ä¹ˆå†™æ ·å¼ã€‚ä½¿ç”¨çš„å…¨éƒ½æ˜¯Taro-UI é»˜è®¤çš„ç»„ä»¶ã€‚</li>
  <li>æœ‰ç‚¹å¡ã€‚ä¸€æ–¹é¢v2exå¹¶æœªæä¾›åˆ†é¡µçš„APIã€‚æœ‰äº› endpoints è¯¸å¦‚è·å¾—èŠ‚ç‚¹åˆ—è¡¨ã€å¸–å­åˆ—è¡¨ç­‰ï¼Œéƒ½æ˜¯ä¸€å¤§å †ä¸Šåƒæ¡æ•°æ®ä¸€ä¸‹å­å…¨è¿”å›ã€‚ç½‘ç»œæ…¢çš„æ—¶å€™å¯¼è‡´å¡é¡¿æ›´åŠ æ˜æ˜¾ã€‚</li>
  <li>TypeScript ä½¿ç”¨å¹¶ä¸è§„èŒƒã€‚æˆ‘å¾ˆå°‘å†™ TypeScriptã€‚ä¹Ÿä¸€ç›´æ‡’å¾—å­¦ï¼Œå› æ­¤åŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨JavaScript çš„å†™æ³•åœ¨å†™ TypeScriptã€‚åŒæ ·ï¼Œå†™å¥½æˆ–è€…å­¦ä¹  TypeScript ä¹Ÿå¹¶ä¸æ˜¯æˆ‘å†™æœ¬é¡¹ç›®çš„ç›®çš„ã€‚ç•¥è¿‡ã€‚</li>
  <li>CustomTabBar çš„å®ç°å¹¶ä¸è§„èŒƒã€‚ç°åœ¨çš„åšæ³•æ˜¯å†™ä¸€ä¸ª CustomTabBar, ç„¶åæ”¾ç½®è¿›æ¯ä¸ªé¡µé¢ä¸­ã€‚æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ã€‚
    <ol>
      <li>åœ¨ <code class="language-plaintext highlighter-rouge">app.config.ts</code> ä¸­çš„<code class="language-plaintext highlighter-rouge">tabList</code> é‡Œï¼Œè®¾ç½® <code class="language-plaintext highlighter-rouge">custom: true</code></li>
      <li>åœ¨ <code class="language-plaintext highlighter-rouge">src</code> ç›®å½•ä¸‹æ–°å»º <code class="language-plaintext highlighter-rouge">custome-tab-bar</code> æ–‡ä»¶å¤¹</li>
      <li>åœ¨ <code class="language-plaintext highlighter-rouge">custome-tab-bar</code> ä¸‹é¢æ·»åŠ  <code class="language-plaintext highlighter-rouge">index.js</code>,<code class="language-plaintext highlighter-rouge">index.wxml</code>, <code class="language-plaintext highlighter-rouge">index.wxss</code> æ¥è‡ªå®šä¹‰ tabbar çš„æ ·å¼å’Œè¡Œä¸ºã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä¸èƒ½ç›´æ¥å†™ <code class="language-plaintext highlighter-rouge">index.vue</code>ï¼Œç¼–è¯‘ä¸å‡ºæ¥çš„ã€‚</li>
    </ol>
  </li>
</ul>

<p><img src="https://github.com/hankxdev/taro-v2ex/raw/master/readme/hot.png" alt="hot" /></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        14 JUL 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#system">system</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-fix-git-show-all-file-as-modified-in-wsl" class="post-title" title="How to fix Git show all file as modified in WSL">How to fix Git show all file as modified in WSL</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <h2 id="solution">Solution</h2>
<p>If you open your code in Windows, and run git in WSL bash, you will have a big chance to meet an issue that <code class="language-plaintext highlighter-rouge">git status</code> shows all your
file get modified.
To fix the issue, run this in WSL bash:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf <span class="nb">true</span>
</code></pre></div></div>

<p>Normally I use OSX, but today I have to go back to my Windows PC to try an extension on Edge.</p>

<p>Iâ€™m using WSL (thatâ€™s Windows Subsystem for Linux) to manage and build my projects.</p>

<p>After I cloned my repo from Github, I tried to create a new branch for Edge version. But after I ran <code class="language-plaintext highlighter-rouge">git branch branchname</code>
, it told me that there were changes need to commit first.</p>

<p>So I ran <code class="language-plaintext highlighter-rouge">git status</code>, to check whatâ€™s been changed. Then I got this:</p>

<p><img src="../img/wsl-change-all.png" alt="all files modified" /></p>

<p>This was a simple app. so itâ€™s basically showing that every file got modified. But I hadnâ€™t do anything to any file.</p>

<p>Itâ€™s because I was using git in WSL, but I opened files in Windows system. So the line ending is <code class="language-plaintext highlighter-rouge">CRLF</code>, but git thought itâ€™s on Linux so the 
line should ends with <code class="language-plaintext highlighter-rouge">LF</code>.</p>

<p>So the fix command will tell git to use <code class="language-plaintext highlighter-rouge">CRLF</code> and line ending.</p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        13 JUL 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#system">system</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/change-ubuntu-20-04-source-to-china-mirror" class="post-title" title="Change Ubuntu 20.04 update source to mirror site in China">Change Ubuntu 20.04 update source to mirror site in China</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>Ubuntu 20.04 has been released for a while, its code is <code class="language-plaintext highlighter-rouge">Focal Fossa</code>.  Again, if you are in China, better change the update source to mirror sites.</p>

<p>This post is just a copy from <a href="https://momane.com/change-ubuntu-18-04-source-to-china-mirror">Change Ubuntu 18.04 update source to mirror site in China</a>, and I just replaced the source url from thoes ones of 18.04 to 20.04</p>

<p>Here are several famous mirror sites. What you need todo is pick one from below and edit <code class="language-plaintext highlighter-rouge">etc/apt/sources.list</code>, replace the content in this file.</p>

<p>There are some links beend commented out.</p>

<ul>
  <li>starts with<code class="language-plaintext highlighter-rouge">deb-src</code> is for source code, without them the speed would be even faster</li>
  <li>the one with <code class="language-plaintext highlighter-rouge">focal-proposed</code> are just proposed updates, only enable them if you know the risk.</li>
</ul>

<p><strong>Better backup you <code class="language-plaintext highlighter-rouge">etc/apt/sources.list</code> before you do this</strong></p>

<h4 id="163-netease">163 (netease)</h4>
<p><em>source:http://mirrors.163.com/</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse
# deb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse
# deb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse
# deb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse
# deb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse
</code></pre></div></div>

<h4 id="alibaba-aliyun">alibaba (aliyun)</h4>
<p><em>source:https://opsx.alibaba.com/mirror</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
# deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
# deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
# deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
# deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
# deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
</code></pre></div></div>
<p>And here are also two Chinese university mirror, use them only if you are in Chinese university.</p>
<h4 id="tsinghua-university">tsinghua university</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
</code></pre></div></div>

<h4 id="ustc-university-of-science-and-technology-of-china">ustc (university of science and technology of China)</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
# deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
# deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
# deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
# deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
# deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
</code></pre></div></div>

<p>Enjoy:)</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        2 JUL 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
        <span>/</span>
        
      
        <a class="post-cat" href="https://momane.com/categories/#chrome">chrome</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/fix-you-have-to-set-a-contract-email-chrome-web-store" class="post-title" title="How to fix You have to set a contact email in Chrome Web Store">How to fix You have to set a contact email in Chrome Web Store</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>I have multiple accounts in Chrome Web Store to manage multiple Chrome extensions.</p>

<p>Today I found that one of my extension <a href="https://chrome.google.com/webstore/detail/one-click-extensions-mana/pbgjpgbpljobkekbhnnmlikbbfhbhmem">one click extensions manager</a> did not get updated as schedule. which is very abnormal because itâ€™s scheduled by Github action, and the log shows that the latest version had been submitted to the store several days ago.</p>

<p>In the dashboard itâ€™s telling me to add a contract email in my account so that I could publish it. And I already added it long time ago.</p>

<p>After several meaningless refreshes and clicking on the save button, I realized it might because of my other accounts. So I switched to other accounts and found there is one account without contact email. And the item got published once I fixed this issue.</p>

<p>So weird because it never asks me to add contact email before. And the store hint is so unclear, it needs you to add contact email on every account, not just the current one.</p>

<p>Honestly, the new Chrome web store dashboard is not as easy to use as the old one.
Only the UI is fresher than before.</p>

<p><img src="../img/chrome-web-store-ask-contact-email.png" style="margin-bottom:15px;" alt="chrome web store asks for contact email" width="800" /></p>

<p>Also, got an email from Microsoft Edge team, they ask me to submit my extension to Edge store, as Edge is using Chromium now. So if you have published Chrome extension before, you can try 
to submit it to Edge store too. The process would take less than 30 min to do it.</p>

<p>And, the Edge store dashboard is hard to use too, especially if your extension surppots multiple language, you will need to set information like logo, screenshot, description for every
language. insane, right?.</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        21 JUN 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#life">life</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/my-first-lego-friends" class="post-title" title="My First LEGO">My First LEGO</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>Got a LEGO gift from an old friend. Finished it in two weeks :D Love it a lot.</p>

<div><img src="../_site/../img/friends_lego.jpeg" style="margin-bottom:15px;" alt="LEGO Friends" width="800" /></div>
<div><img src="../_site/../img/friends_lego1.jpeg" style="margin-bottom:15px;" alt="LEGO Friends" width="800" /></div>
<div><img src="../_site/../img/friends_lego2.jpeg" style="margin-bottom:15px;" alt="LEGO Friends" width="800" /></div>
<div><img src="../_site/../img/friends_lego3.jpeg" style="margin-bottom:15px;" alt="LEGO Friends" width="800" /></div>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        21 JUN 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#system">system</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/merlin-overclocking" class="post-title" title="å®‰è£…äº†æ¢…æ—å›ºä»¶çš„è·¯ç”±å™¨å¼€å¯SSHä»¥åŠè¶…é¢‘">å®‰è£…äº†æ¢…æ—å›ºä»¶çš„è·¯ç”±å™¨å¼€å¯SSHä»¥åŠè¶…é¢‘</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>éƒ¨åˆ†è·¯ç”±å™¨å¯ä»¥é€šè¿‡å®‰è£…Merlinæ¢…æ—å›ºä»¶æ¥å®ç°æ›´å¤šçš„è‡ªå®šä¹‰åŠŸèƒ½ã€‚å®‰è£…æ›´å¤šç¬¬ä¸‰æ–¹æ’ä»¶æ¥è®©è·¯ç”±å™¨å˜å¾—æ›´å¼ºå¤§ã€‚</p>

<p>åœ¨è½¯ä»¶è‡ªå®šä¹‰çš„æ—¶å€™ä¸å¦¨è¯•è¯•å°†è·¯ç”±å™¨è¿›è¡Œç¡¬ä»¶è¶…é¢‘æ¥ä½¿å…¶æ‹¥æœ‰æ›´å¼ºåŠ²çš„æ€§èƒ½ã€‚</p>

<p>å®ç°èµ·æ¥ä¹Ÿéå¸¸ç®€å•ï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¶…é¢‘å¯èƒ½ä¼šé€ æˆä¸å¯æ¢å¤çš„ç¡¬ä»¶æŸå®³ï¼Œä¿—ç§°å˜ç –ã€‚è¶…é¢‘å‰è¦ä¸‰æ€ï¼Œä¹Ÿä¸è¦å¦„å›¾è¿‡åˆ†è¶…é¢‘æ¥è®©è·¯ç”±å™¨ç¡¬ä»¶æ€§èƒ½è¾¾åˆ°å…¶ä¸å¯èƒ½è¾¾åˆ°çš„ç­‰çº§ã€‚</p>

<p>è¦è¶…é¢‘éœ€è¦å…ˆç™»å…¥è·¯ç”±å™¨å‘½ä»¤è¡Œã€‚æ¨èä½¿ç”¨SSHã€‚Windowsä¸‹ä½¿ç”¨putttyç­‰ä½ ç†Ÿæ‚‰çš„SSHå·¥å…·ï¼ŒmacOSåˆ™ç›´æ¥ç”¨ç»ˆç«¯å³å¯ã€‚</p>

<p>é¦–å…ˆæ¢…æ—é»˜è®¤æ˜¯ä¸å¼€å¯SSHçš„ã€‚éœ€è¦è¿›å…¥è·¯ç”±å™¨ç®¡ç†ç•Œé¢â€”â€”ç³»ç»Ÿç®¡ç†â€”â€”SSH Daemonæ¥å¼€å¯ã€‚
è®¾ç½®å¦‚ä¸‹ï¼š</p>

<p><img src="../_site/../img/merlin-ssh.jpg" style="margin-bottom:15px;" alt="merlin ssh" width="800" /></p>

<p>å…¶ä¸­é€‰é¡¹éƒ½éå¸¸æ¸…æ¥šæ˜ç™½ï¼ŒæŒ‰ç…§ä¸ªäººæ‰€éœ€è®¾ç½®å³å¯ã€‚SSH key å¯ä»¥è®©ä½ ç™»å½•çš„æ—¶å€™ä¸ç”¨è¾“å…¥å¯†ç ã€‚ä¹Ÿå°±æ˜¯ä½ ç™»å½•è·¯ç”±å™¨ç®¡ç†é¡µé¢è®¾ç½®çš„å¯†ç ã€‚</p>

<p>ç„¶ååœ¨puttyæˆ–è€…ç»ˆç«¯é‡Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤æ¥ç™»å…¥è·¯ç”±å™¨å‘½ä»¤è¡Œã€‚å‘½ä»¤é‡Œçš„<code class="language-plaintext highlighter-rouge">ç”¨æˆ·å</code>æ˜¯ä½ åœ¨æµè§ˆå™¨ä¸­ç™»å½•è·¯ç”±å™¨ç®¡ç†é¡µé¢çš„ç”¨æˆ·åã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh ç”¨æˆ·å@192.168.50.1
</code></pre></div></div>
<p>ä¸€èˆ¬æ¢…æ—çš„é»˜è®¤è·¯ç”±å™¨ipæœ‰ä¸¤ä¸ªï¼Œ<code class="language-plaintext highlighter-rouge">192.168.2.1</code>æˆ–è€…<code class="language-plaintext highlighter-rouge">192.168.50.1</code>ã€‚æ ¹æ®ä½ è‡ªå·±è·¯ç”±å™¨çš„ipæ¥æ›´æ”¹ä»¥ä¸Šå‘½ä»¤ç™»å…¥ã€‚</p>

<p>å¦‚æœä½ æ²¡è®¾ç½®SSH keyçš„è¯ï¼Œæ¥ä¸‹æ¥éœ€è¦è¾“å…¥å¯†ç äº†ã€‚</p>

<p>å¯†ç æ­£ç¡®å°±è¿›å…¥è·¯ç”±å™¨å‘½ä»¤è¡Œäº†, ä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹æ–‡å­—ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ASUSWRT-Merlin [è·¯ç”±å™¨å‹å·] [æ¢…æ—ç‰ˆæœ¬] Tue Sep 25 12:04:55 UTC 2018
[ç”¨æˆ·å]@[è·¯ç”±å™¨å‹å·]:/tmp/home/root#
</code></pre></div></div>
<p>å…¶ä¸­æ²¡æœ‰ä¸­æ–‡å­—çš„ï¼Œè¿™é‡Œåªæ˜¯è¯´æ˜è¿™é‡Œå­—ç¬¦ä»£è¡¨çš„æ„æ€ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä½ è‡ªå·±è·¯ç”±å™¨çš„å‹å·ã€ç‰ˆæœ¬ã€ç”¨æˆ·åç­‰ä¿¡æ¯ã€‚</p>

<p>æ¥ä¸‹æ¥è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvram set clkfreq=1000,800
</code></pre></div></div>
<p>è¿™é‡Œçš„1000æ˜¯è®¾ç½®CPUé¢‘ç‡ï¼Œ800æ˜¯è®¾ç½®å†…å­˜é¢‘ç‡ï¼ˆ800ç›¸å½“äº1600ï¼‰ã€‚ä¸è¦æ”¹å¤ªå¤§ã€‚ä¸€èˆ¬å»ºè®®CPUé¢‘ç‡è®¾ç½®æ•°å€¼ä¸ºé»˜è®¤é¢‘ç‡åŠ 200å°±æ¯”è¾ƒå®‰å…¨ã€‚æ€§èƒ½ä¹Ÿèƒ½å¾—åˆ°è¾ƒå¥½æå‡ã€‚å¦åˆ™å˜ç –ç”šè‡³çƒ§æœºå¾—ä¸å¿å¤±ã€‚</p>

<p>ç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æäº¤æ›´æ”¹ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvram commit
</code></pre></div></div>

<p>æœ€åè¿è¡Œ<code class="language-plaintext highlighter-rouge">reboot</code>æ¥é‡å¯è·¯ç”±å™¨ã€‚</p>

<p>å¦‚æœæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œé‡å¯å®Œæˆåè·¯ç”±å™¨å°±è¶…é¢‘æˆåŠŸäº†ã€‚</p>

<p>æœ‰æ—¶å€™ä¼šé‡åˆ°è·¯ç”±å™¨äº®ä¸¤ä¸ªçº¢ç¯æ— æ³•æ­£å¸¸å¯åŠ¨çš„æƒ…å†µï¼Œä¸è¦æ…Œï¼Œè¿™ä¸æ˜¯å˜ç –ï¼Œåªæ˜¯å¯åŠ¨å¤±è´¥ã€‚åˆ·äº†æ¢…æ—ä¹‹åä¼šç»å¸¸é‡åˆ°å¯åŠ¨å¤±è´¥çš„é—®é¢˜ã€‚è¿™æ—¶å€™åªè¦ç»™è·¯ç”±å™¨æ–­ç”µï¼Œç­‰å‡ ç§’ï¼Œå†æ¬¡æŒ‰ç”µæºé”®å¯åŠ¨å³å¯ã€‚å¦‚æœè¿˜æ˜¯å¯åŠ¨ä¸äº†å°±å†é‡å¯ä¸€æ¬¡ã€‚å¤šè¯•å‡ æ¬¡ä¸€èˆ¬éƒ½èƒ½æˆåŠŸå¯åŠ¨ã€‚</p>

<p>å®åœ¨ä¸è¡Œåªèƒ½é‡ç½®ã€‚æ‹¿ç¬”æˆ³é‡ç½®æŒ‰é’®30ç§’ï¼Œç„¶åç»§ç»­æŒ‰ç€é‡ç½®æŒ‰é’®ä¸åŠ¨ï¼Œé‡ç½®ç”µæºå¯åŠ¨30ç§’ï¼Œå†å…³é—­ç”µæº30ç§’ï¼Œæœ€åå†å¯åŠ¨ã€‚ä¼ è¯´ä¸­çš„<code class="language-plaintext highlighter-rouge">30-30-30</code>å¤§æ³•ï¼Œé‡ç½®æˆåŠŸå°±ä»£è¡¨æ²¡å˜ç –ã€‚</p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        20 MAY 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/use-husky-to-manage-git-hooks" class="post-title" title="Use Husky to manage git hooks">Use Husky to manage git hooks</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Git hooks</a> is a powerful tool to make your life easier.</p>

<p>It fires off custom scripts when certain important actions occur. one common scene like:  you want to lint your code every time when you commit
 changes, so that your code has a good style and following your teamâ€™s code specification. Or you want to run test before pushing your code/</p>

<blockquote>
  <p>Like many other Version Control Systems, Git has a way to fire off custom scripts when certain important actions occur. There are two groups of these hooks: client-side and server-side. Client-side hooks are triggered by operations such as committing and merging, while server-side hooks run on network operations such as receiving pushed commits. You can use these hooks for all sorts of reasons.</p>
</blockquote>

<p>With git hooks, you can make these actions automatically.</p>

<p>While <a href="https://www.npmjs.com/package/husky"><strong>husky</strong></a> is a tool to make Git hooks easier to use. To use it is very easy</p>

<p>First you install it as a development dependency with npm:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>husky <span class="nt">--save-dev</span>
</code></pre></div></div>

<p>OR <strong>yarn</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add husky <span class="nt">-D</span>
</code></pre></div></div>

<p>Then in your <code class="language-plaintext highlighter-rouge">package.json</code> , add:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"husky"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"hooks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"pre-commit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yarn lint"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pre-push"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yarn test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>In the example, we added 2 hooks, <code class="language-plaintext highlighter-rouge">pre-commit</code> and <code class="language-plaintext highlighter-rouge">pre-push</code>, they are meant what they named.</p>

<ul>
  <li><strong>pre-commit</strong> means, every time you run <code class="language-plaintext highlighter-rouge">git commit</code>, it will run <code class="language-plaintext highlighter-rouge">yarn lint</code> first, and commit the code if <code class="language-plaintext highlighter-rouge">yarn lint</code> passes without error.</li>
  <li><strong>pre-push</strong> run command <code class="language-plaintext highlighter-rouge">yarn test</code> when you run <code class="language-plaintext highlighter-rouge">git push</code></li>
  <li><code class="language-plaintext highlighter-rouge">yarn lint</code> and <code class="language-plaintext highlighter-rouge">yarn test</code> are commands that you define in your <code class="language-plaintext highlighter-rouge">scripts</code> in package.json. normally those commands that you runs manually, like
<code class="language-plaintext highlighter-rouge">yarn start</code> or <code class="language-plaintext highlighter-rouge">yarn dev</code>, etc. you can add any command you want and run the, in the hooks.</li>
</ul>

<p>Pretty straight forward and easy :)</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        7 APR 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/use-document-execcommand-to-set-value" class="post-title" title="Use document.execCommand to set value in editable field and trigger events">Use document.execCommand to set value in editable field and trigger events</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><strong>NOTE: This <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand"><code class="language-plaintext highlighter-rouge">document.execCommand</code></a> api has been marked as <code class="language-plaintext highlighter-rouge">Obsolete</code>. However, given the situation that new API is still under construction, so itâ€™s still safe to use it for now and maybe for next few years.</strong></p>

<p>To set value in editable filed like input, textarea with javascript is a common requirement in browser extension or other script development. 
Normally you just need to do something like <code class="language-plaintext highlighter-rouge">document.querySelector('input').value="text you want to set"</code> to get the job done easily and quickly.</p>

<p>But life is not always so easy. Actually most of the time you need to do more in browser extension development. The input fileds always bond many events like <code class="language-plaintext highlighter-rouge">beforeinput</code>, <code class="language-plaintext highlighter-rouge">input</code>,<code class="language-plaintext highlighter-rouge">change</code>, or even <code class="language-plaintext highlighter-rouge">focus</code>, <code class="language-plaintext highlighter-rouge">active</code>. If you just set the <code class="language-plaintext highlighter-rouge">value</code> by javascript, you will also need to trigger these events manually in next steps.</p>

<p>And before that you will need to find out what events you need to trigger. It gonna take you some time.</p>

<p>With this <code class="language-plaintext highlighter-rouge">document.execCoomand</code>, you can do it easily.</p>

<p>The syntax is like this:</p>
<blockquote>
  <p>document.execCommand(aCommandName, aShowDefaultUI, aValueArgument)</p>
</blockquote>

<p>There is a <strong>insertText</strong> you can use to set value.</p>
<blockquote>
  <p>Inserts the given plain text at the insertion point (deletes selection).</p>
</blockquote>

<p>so to insert text in to a field, you just, focus the field -&gt; select the field -&gt; execute the command, like so:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#target</span><span class="dl">"</span><span class="p">)</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">select</span><span class="p">()</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">execCommand</span><span class="p">(</span><span class="dl">"</span><span class="s2">insertText</span><span class="dl">"</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">"</span><span class="s2">text you want to set</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div>

<p>The best of this API is that, <strong>it imitates user input event, make it like human being activity, trigger all bond events on the filed</strong>.</p>

<p>This API is very powerful, there are a bunch of commands you can use to make you life easier.</p>

<p>You can read itâ€™s doc on MDN to get more details: https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand</p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        12 MAR 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-trigger-click-event-in-gmail" class="post-title" title="How to trigger click event in Gmail">How to trigger click event in Gmail</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>If you want to hack Gmail UI, to build web extension or any other similar tool that works on top of Gmail, 
you always want or need to trigger some DOM events in Gmail UI, like you want to click on some buttons/icons,
to send out email, to make the compose window pop out, etc.</p>

<p>You canâ€™t do it by simply use <code class="language-plaintext highlighter-rouge">click</code> function, either by Vanilla JS or jQuery, either <code class="language-plaintext highlighter-rouge">click</code> or <code class="language-plaintext highlighter-rouge">trigger</code> function can not
achieve your goal.</p>

<p>You need to do this by using  <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createEvent"><code class="language-plaintext highlighter-rouge">Document.createEvent()</code></a>.</p>

<p>Take <code class="language-plaintext highlighter-rouge">click</code> for example, you want to click an <code class="language-plaintext highlighter-rouge">icon</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">const</span> <span class="nx">mouseDown</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">MouseEvents</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">mouseDown</span><span class="p">.</span><span class="nx">initEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">mousedown</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="nx">icon</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">mouseDown</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">mouseUp</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">MouseEvents</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">mouseUp</span><span class="p">.</span><span class="nx">initEvent</span><span class="p">(</span><span class="dl">'</span><span class="s1">mouseup</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="nx">icon</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">mouseUp</span><span class="p">);</span>
</code></pre></div></div>

<p>You may want to make it as a function so that you can use it click any element.</p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        10 MAR 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/boost-your-development-speed-in-china" class="post-title" title="Boost your Frontend development speed in China">Boost your Frontend development speed in China</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>Waiting for something is wasting time, especially when development, you always need to wait for compiling, wait for install dependenciesâ€¦</p>

<p>And if you are in China, this waiting time will be much longer because of some well known reason.</p>

<p>Here are some changes that will save you some time in China if you are doing frontend development.</p>

<h2 id="ruby-and-rails">Ruby and Rails</h2>

<p>change your gem source to China mirror, source: https://ruby-china.org/</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">source</span> <span class="nt">-a</span> https://gems.ruby-china.com
</code></pre></div></div>

<h2 id="npm">npm</h2>
<p>change your npm source to China mirror, source , source: https://developer.aliyun.com/mirror/NPM</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm config <span class="nb">set </span>registry https://registry.npm.taobao.org
</code></pre></div></div>

<p>or you can also install a <code class="language-plaintext highlighter-rouge">cnpm</code>, use <code class="language-plaintext highlighter-rouge">cnpm</code> rather than <code class="language-plaintext highlighter-rouge">npm</code>, to avoid change the source url permanently.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm <span class="nb">install</span> <span class="nt">-g</span> cnpm <span class="nt">--registry</span><span class="o">=</span>https://registry.npm.taobao.org
</code></pre></div></div>

<h2 id="yarn">yarn</h2>
<p>Same as npm.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn config <span class="nb">set </span>registry https://registry.npm.taobao.org <span class="nt">--global</span>
</code></pre></div></div>
<p>there is no <code class="language-plaintext highlighter-rouge">cyarn</code> though</p>

<h2 id="ubuntu">ubuntu</h2>
<p>change sourcelist, check <a href="/change-ubuntu-18-04-source-to-china-mirror">this post</a></p>

<h2 id="homebrew">homebrew</h2>
<p>change homebrew core source and repo to USTC (University of Science and Technology of China) <a href="https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git">Mirror</a>.</p>

<ul>
  <li>
    <p>change brew.git:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> <span class="s2">"</span><span class="si">$(</span>brew <span class="nt">--repo</span><span class="si">)</span><span class="s2">"</span>
 git remote set-url origin https://mirrors.ustc.edu.cn/brew.git
</code></pre></div>    </div>
  </li>
  <li>
    <p>change homebrew-core.git</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> <span class="s2">"</span><span class="si">$(</span>brew <span class="nt">--repo</span><span class="si">)</span><span class="s2">/Library/Taps/homebrew/homebrew-core"</span>
 git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
</code></pre></div>    </div>
  </li>
  <li>
    <p>change homebrew bottles source</p>

    <p>for <code class="language-plaintext highlighter-rouge">bash</code> user</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s1">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'</span> <span class="o">&gt;&gt;</span> ~/.bash_profile
 <span class="nb">source</span> ~/.bash_profile
</code></pre></div>    </div>
    <p>for <code class="language-plaintext highlighter-rouge">zsh</code> user</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s1">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'</span> <span class="o">&gt;&gt;</span> ~/.zshrc
 <span class="nb">source</span> ~/.zshrc
</code></pre></div>    </div>
  </li>
</ul>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        27 JAN 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#life">life</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/rip-kobe-bryant" class="post-title" title="RIP, Kobe Bryant">RIP, Kobe Bryant</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>RIP</p>

<p><img src="https://s3.amazonaws.com/ogden_images/www.adirondackdailyenterprise.com/images/2020/01/26152959/BryantKobe05wiki-563x840.jpg" alt="RIP, Kobe Bryant" title="RIP, Kobe Bryant" /></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        23 JAN 2020
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#life">life</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/2019-ncov" class="post-title" title="2019 nCoV">2019 nCoV</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>Itâ€™s 23th Jan already.</p>

<p>2019-nCoV virus is raging in China and some other countries, and also lunar new year tomorrow.</p>

<p>Just like 17 years ago, SARS everywhere. Back then I was a senior middle school student. Sat in the classroom every day, the teachers tried sterilization by boiling vinegar in the classroom.</p>

<p>Luckily itâ€™s spring soon, SARS gone quietly just like how it came. Hundreds of people died, lots of them were doctors and nurses. Feel so sad about them.</p>

<p>Then in 2009, there was H1N1. I was at university. I only saw the news on TV and the internet. Weird thing is, in my memory, it was not as bad as in 2003. I was busying getting prepared for job, nothing different. But I just found out today on the internet, about 648 people died in China mainland, while it was 349 in 2003 SARS. Kind of shock news to me.</p>

<p>And now, more than 600 people in China mainland got this virus, 17 of them dead. Heard from some news there would be more soon since Wuhan is a big city and many people who work there will go back to their own town to celebrate the lunar new year.</p>

<p>In the meantime in the US, CDC says about 6600 died because of the flu.</p>

<p>And in Australia, the fire has burnt for months and itâ€™s still burning.</p>

<p>So many disasters this year. I just wish everything will be OK for everyone and no more disaster to every country and every human being.</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        12 NOV 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-keep-preview-file-in-vscode-quickly" class="post-title" title="how to keep preview file in VS Code quickly">how to keep preview file in VS Code quickly</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>You are a VS Code master, you barely use mouse when coding.</p>

<p>You want to edit a file A in your project.</p>

<p>You open A via hotkey, CMD+Shif+R (yes, I came from eclipse).</p>

<p>Before you editing A, you want to check some reference in another file B.</p>

<p>You open B with same hotkey, you got your information.</p>

<p>Then you want to go back to A to make your editing.</p>

<p>Where is my file A? That one with 1000 rows of code, it was there just before.</p>

<p>Alright I can just open it again, CMD SHIFT R, yes, it comes back.</p>

<p>WTF, Why is B gone?</p>

<p>This happens a lot before to me, I have to double click the file in the project file list to keep it open.</p>

<p>Itâ€™s because VS Code thinks that you just want to <code class="language-plaintext highlighter-rouge">preview</code> the file when you single click the file or open it with hotkey.</p>

<p>But itâ€™s really annoying that you want to open multiple files in editor and keep them open.</p>

<p>So here is a quicky way to do this:</p>

<p>Press a <strong>CMD + S</strong> (Ctrl+S on Windows, thatâ€™s hotkey for <code class="language-plaintext highlighter-rouge">save</code> ) once you open the file. You will notice that the file name font in tab becomes regular from italic.</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        16 AUG 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#system">system</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/change-ubuntu-18-04-source-to-china-mirror" class="post-title" title="Change Ubuntu 18.04 update source to mirror site in China">Change Ubuntu 18.04 update source to mirror site in China</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>To use ubuntu is not a easy thing, and if you are in China, itâ€™s even more difficult. Once you want to update your ubuntu. youâ€™d find itâ€™s very slow.
Because of some well known reason.</p>

<p>So itâ€™s better to change the update source to some mirror site in China.</p>

<p>Here are several famous mirror sites. What you need todo is pick one from below and edit <code class="language-plaintext highlighter-rouge">etc/apt/sources.list</code>, replace the content in this file.</p>

<p><strong>Better backup you <code class="language-plaintext highlighter-rouge">etc/apt/sources.list</code> before you do this</strong></p>

<h4 id="163-netease">163 (netease)</h4>
<p><em>source:http://mirrors.163.com/</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse
</code></pre></div></div>

<h4 id="alibaba-aliyun">alibaba (aliyun)</h4>
<p><em>source:https://opsx.alibaba.com/mirror</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
</code></pre></div></div>
<p>And here are also two Chinese university mirror, use them only if you are in Chinese university.</p>
<h4 id="tsinghua-university">tsinghua university</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
</code></pre></div></div>

<h4 id="ustc-university-of-science-and-technology-of-china">ustc (university of science and technology of China)</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
</code></pre></div></div>

<p>Enjoy:)</p>


      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        4 AUG 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#system">system</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/disable-web-search-result-in-windows-search" class="post-title" title="Disable Web Search Result in Windows Search 2019">Disable Web Search Result in Windows Search 2019</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><strong>TL;DR</strong>: download this <a href="https://github.com/HangYang/disable-windows-web-search">windows reg file</a> and double click to import it.
OR</p>
<ul>
  <li>copy the code from below</li>
  <li>open you favourite text editor, or just use notepad</li>
  <li>paste the code into it</li>
  <li>save the file with <code class="language-plaintext highlighter-rouge">.reg</code> extension</li>
  <li>double click the file</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows Search ]
"ConnectedSearchUseWebOverMeteredConnections"=dword:00000000
"AllowCortana"=dword:00000000
"DisableWebSearch "=dword:00000001
"ConnectedSearchUseWeb"=dword:00000000

[HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Search]
"CortanaConsent"=dword:00000000
"BingSearchEnabled"=dword:00000000
"AllowSearchToUseLocation"=dword:00000000
</code></pre></div></div>

<p>Windows is promoting itâ€™s <code class="language-plaintext highlighter-rouge">Cortana</code> and Bing search for a long time. One of the most annoying thing is that itâ€™s showing web search content when you search in start menu.</p>

<p>So you press <code class="language-plaintext highlighter-rouge">Windows</code> button, type some keywords, all you want to do is just access your installed app or file quickly, but then you saw some shitty stuff in the result list.</p>

<p>Yes, itâ€™s showing web search content and even some so called <code class="language-plaintext highlighter-rouge">search suggesttion</code>. itâ€™s based on your keywords and some trends on the web, since you are searching how to disable
this, I know that you also think itâ€™s totally garbage.</p>

<p>In the beginning, Windows gave us an option in the search menu to turn this off. But then Windows known that most of the users hated it, so it just removed this optionâ€¦</p>

<p>I have to use group policy, regeditor to disable it, and have to search for this every time when it updates.</p>

<p>To do it step by step is a bit complicated and itâ€™s totally a waste of time. So I just create this reg file so that anyone who want to do this can do it by one click.</p>

<p>Comment for these reg code in case someone doubt it:</p>

<hr />

<p><code class="language-plaintext highlighter-rouge">"ConnectedSearchUseWebOverMeteredConnections"=dword:00000000 </code> // _disable web search use mobile connection</p>

<p><code class="language-plaintext highlighter-rouge">"AllowCortana"=dword:00000000</code>// disable Cortana</p>

<p><code class="language-plaintext highlighter-rouge">"DisableWebSearch "=dword:00000001</code> // disable web search</p>

<p><code class="language-plaintext highlighter-rouge">"ConnectedSearchUseWeb"=dword:00000000</code> // disabled web searech connection</p>

<p><code class="language-plaintext highlighter-rouge">"CortanaConsent"=dword:00000000</code> // disable Cortana</p>

<p><code class="language-plaintext highlighter-rouge">"BingSearchEnabled"=dword:00000000</code> // disable bing search in start menu</p>

<p><code class="language-plaintext highlighter-rouge">"AllowSearchToUseLocation"=dword:00000000</code> // disable search feature access your location</p>

<hr />
<p>Enjoy :)</p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        21 MAY 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#database">database</a>
        
        <span>/</span>
        
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/mysql-how-to-sort-number-in-string-format" class="post-title" title="MySQL: Sort Number in String Format">MySQL: Sort Number in String Format</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p>TL;DR: use <code class="language-plaintext highlighter-rouge">key_name</code> <code class="language-plaintext highlighter-rouge">*</code> <code class="language-plaintext highlighter-rouge">1</code>; like</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> select id, name, age from users order by salary * 1
</code></pre></div></div>

<p>Well, itâ€™s better to store number data in number format in the database. But there is always accident, sometimes you or
your colleague just stored some number into database with string format, of cause with some reason.</p>

<p>And one day you need to get data from that table and sort the result by that string-number column. Then you found something 
is not right.</p>

<p>If you run command like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select "1000" &gt; "2"
</code></pre></div></div>
<p>you will find that the result is <em>0</em>. it means,
<strong>100 &lt; 2</strong>. thatâ€™s because mysql just compare these 2 values in as string. thus <strong>2 &gt; 1</strong>.</p>

<p>There are several work around to make this works, like  use <a href="https://dev.mysql.com/doc/refman/8.0/en/mathematical-functions.html#function_conv">conv()</a>.
So write your sql like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select * from users order by conv(`salary`, 10, 10)
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">conv(original_value, from_base, to_base)</code> is a mysql function, to convert a value from a base to another base, like you can also 
convert a numeric base system 2 to numeric base system 10.</p>

<p>But there is another shorter and cooler way to do this. thatâ€™s mul the value by 1. Like so:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select * from users order by salary * 1
</code></pre></div></div>
<p>Work like a charm.</p>

<p>Need to notice that if the value is too large, the result will be in <em>Scientific notation</em> like <code class="language-plaintext highlighter-rouge">1e17</code>.</p>

<p>-EOF-</p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        12 FEB 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#chrome">chrome</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/chrome-team-just-released-several-new-official-theme/" class="post-title" title="Chrome team just released several new official themes">Chrome team just released several new official themes</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><img class="alignnone size-large wp-image-93" src="/assets/Screen-Shot-2019-02-13-at-13.37.13-1024x879.png" alt="" width="600" height="515" /></p>
<p>I never use Chrome theme before, not a fan of customized theme because most of them are too stylish for me.</p>
<p>But Chrome team just released sever official themes days ago, they are clean and fresh, most of them seem for programmers. Like <code>Oceanic</code>, <code>High Contrast Colorful.</code></p>
<p>You can get them from here:&nbsp;<a href="https://chrome.google.com/webstore/category/collection/chrome_themes" target="_blank" rel="noopener"> <code class="EnlighterJSRAW" data-enlighter-language="html"> https://chrome.google.com/webstore/category/collection/chrome_themes</code></a></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        12 FEB 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#tips">tips</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-block-https-websites-on-router-with-merlin/" class="post-title" title="How to block HTTPS websites on Router with Merlin">How to block HTTPS websites on Router with Merlin</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><strong>Merlin</strong> is a very powerful Router OS.</p>
<p>The best feature I like is its plugin system. there you can install many third-party apps like Adblock, web shell, AppleDNS. Most of the great apps are already in its built-in<code class="EnlighterJSRAW" data-enlighter-language="generic">software center</code> you can just install them with 1 click.</p>
<p><img class="alignnone size-large wp-image-82" src="/assets/Screen-Shot-2019-02-12-at-21.16.25-1024x934.png" alt="" width="600" height="547" /></p>
<p>It also has a `Firewall`,&nbsp; here you can add some rules to let the router block some URL or hosts or even IP that you don't want the users access.&nbsp;&nbsp;</p>
<p><img class="alignnone size-large wp-image-83" src="/assets/Screen-Shot-2019-02-12-at-21.20.23-1024x611.png" alt="" width="600" height="358" /></p>
<p>But as it says, it has some limitations:</p>
<ul>
<li>it can not block webpage with <a href="https://en.wikipedia.org/wiki/HTTP_compression">HTTP compression&nbsp;</a></li>
<li>it can not block webpage with HTTPS&nbsp;</li>
</ul>
<p>So basically, since almost all websites are with HTTPS now, this Firewall has actually been useless now.</p>
<p>Of cause, since it's a mini Linux system, you can log in to it in shell and edit&nbsp; <code>hosts</code>, but it's not that convenient&nbsp;to do things with the shell.&nbsp;</p>
<p>Here is a killer app, it's been taken down because of Chinese policy, it's called <code>shad0w20cks</code>(you know it).&nbsp;</p>
<p>In it's <code>DNS Settings</code>, there is a textarea called <code>customize dnsma</code>you can just add your hosts like rules in it. like if you want to block baidu.com and weibo.com:</p>
<p><code>address=/baidu.com/127.0.0.1</code></p>
<p><code>address=/weibo.com/127.0.0.1</code></p>
<p>And then save.</p>
<p><img class="alignnone size-full wp-image-84" src="/assets/Screen-Shot-2019-02-12-at-22.05.52.png" alt="" width="699" height="389" /></p>
<p>works like a charm :D</p>
<p>End.</p></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        6 FEB 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
        <span>/</span>
        
      
        <a class="post-cat" href="https://momane.com/categories/#vscode">vscode</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/how-to-remove-experimentaldecorators-warning-in-vscode/" class="post-title" title="How to remove experimentalDecorators warning in VSCode">How to remove experimentalDecorators warning in VSCode</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><!-- wp:heading {"level":3} --></p>
<h3>Problem</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>Working on a Vue project with VSCode as code editor. Using typescript in the Vue component. </p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>While VSCode keeps warning this message on the declaration of Component class name. Which is very annoying.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><strong>Experimental support for decorators is a feature that is subject to change in a future release. Set the â€˜experimentalDecoratorsâ€™ option to remove this warning.</strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":65} --></p>
<figure class="wp-block-image"><img src="/assets/Screen-Shot-2019-02-07-at-1.35.18-PM.png?fit=600%2C138&amp;ssl=1" alt="" class="wp-image-65" /></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Tried to search a bit, in the VSCode github, they tell you to set <code>experimentalDecorators</code> to true in VSCode settings, and restart, however it's not working.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>Solution</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>you need to modify the typescript configuration. In <code>tsconfig.json</code> file (if you don't have one, create it in your project's root folder). Add this:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:enlighter/codeblock {"language":"json"} --></p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">{
    "compilerOptions": {
        "experimentalDecorators": true,
        "allowJs": true
    }
}</pre>
<p><!-- /wp:enlighter/codeblock --></p>
<p><!-- wp:paragraph --></p>
<p>Both <code>experimentalDecorators<code> </code></code> and <code>allowJs</code>  needs to be set to  <code>true</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>And then restart VSCode. </p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Done.</p>
<p><!-- /wp:paragraph --></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        16 JAN 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#bash">bash</a>
        
        <span>/</span>
        
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/zsh-%e4%b8%bb%e9%a2%98-powerlevel9k-%e5%ae%89%e8%a3%85%e9%85%8d%e7%bd%ae%e8%ae%b0%e5%bd%95/" class="post-title" title="zsh ä¸»é¢˜ powerlevel9k å®‰è£…é…ç½®è®°å½•">zsh ä¸»é¢˜ powerlevel9k å®‰è£…é…ç½®è®°å½•</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><!-- wp:image {"id":48} --></p>
<figure class="wp-block-image"><img src="/assets/Screen-Shot-2019-01-16-at-9.33.57-PM-1024x391.png" alt="" class="wp-image-48" /><br />
<figcaption>zsh with powerlevel9k theme</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>å®‰è£…ï¼š</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>git clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9k</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>å¯ç”¨å’Œé…ç½®</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>ç¼–è¾‘ `~/.zshrc`</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>å¯ç”¨</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>ZSH_THEME="powerlevel9k/powerlevel9k"</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:list --></p>
<ul>
<li>æ”¹å˜é…ç½®</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(dir vcs) #å·¦ä¾§æ˜¾ç¤ºå…¨è·¯å¾„å’ŒGitçŠ¶æ€</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(time ram) #å³ä¾§æ˜¾ç¤ºæ—¶é—´å’Œå†…å­˜</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>æˆ‘æœ¬äººéœ€è¦çš„å°±è¿™äº›ï¼Œæ˜¾ç¤ºç»“æœå¦‚é¢˜å›¾ã€‚æ›´å¤šè¯¦ç»†é…ç½®è§ï¼š<a href="https://github.com/bhilburn/powerlevel9k">https://github.com/bhilburn/powerlevel9k</a></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>é‡åˆ°ä¹±ç åœ¨iterm2çš„é…ç½®é‡Œé¢ä¿®æ”¹å­—ä½“å³å¯ã€‚</p>
<p><!-- /wp:paragraph --></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        15 JAN 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#git">git</a>
        
        <span>/</span>
        
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/github%e4%b8%ad%e5%9b%bd%e5%8a%a0%e9%80%9fhosts%e5%88%97%e8%a1%a8/" class="post-title" title="Githubä¸­å›½åŠ é€Ÿhostsåˆ—è¡¨">Githubä¸­å›½åŠ é€Ÿhostsåˆ—è¡¨</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><!-- wp:paragraph --></p>
<p>å› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œgithubå¯¹å¾ˆå¤šä¸­å›½ç”¨æˆ·æ¥è¯´æœ‰äº›æ…¢ã€‚ç‰¹åˆ«åœ¨cloneçš„æ—¶å€™ã€‚</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>å¯ä»¥é€šè¿‡ä¿®æ”¹hostsæ¥è§£å†³ã€‚æœ€æ–°çš„hostsåˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code># GitHub Start  updated 15-1-2019
192.30.253.112 github.com
192.30.253.118 gist.github.com
151.101.112.133 assets-cdn.github.com
151.101.184.133 raw.githubusercontent.com
151.101.112.133 gist.githubusercontent.com
151.101.184.133 cloud.githubusercontent.com
151.101.112.133 camo.githubusercontent.com
151.101.112.133 avatars0.githubusercontent.com
151.101.112.133 avatars1.githubusercontent.com
151.101.184.133 avatars2.githubusercontent.com
151.101.12.133 avatars3.githubusercontent.com
151.101.12.133 avatars4.githubusercontent.com
151.101.184.133 avatars5.githubusercontent.com
151.101.184.133 avatars6.githubusercontent.com
151.101.184.133 avatars7.githubusercontent.com
151.101.12.133 avatars8.githubusercontent.com
# GitHub End</code></pre>
<p><!-- /wp:code --></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        1 JAN 2019
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/iterm2-zsh-oh-my-zsh-%e5%ae%89%e8%a3%85%e5%92%8c%e9%85%8d%e7%bd%ae/" class="post-title" title="iTerm2 + zsh + oh my zsh å®‰è£…å’Œé…ç½®">iTerm2 + zsh + oh my zsh å®‰è£…å’Œé…ç½®</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><!-- wp:image --></p>
<figure class="wp-block-image"><img src="/assets/1*QCDLBTPMt3S7G0JOQbD68A.png" alt="" /><br />
<figcaption>https://cdn-images-1.medium.com/max/1600/1*QCDLBTPMt3S7G0JOQbD68A.png</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>OSXçš„é»˜è®¤ç»ˆç«¯terminalåŠŸèƒ½æ¯”è¾ƒåŸºç¡€ï¼Œå¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´ä¸æ˜¯éå¸¸å‹å¥½ï¼Œç•Œé¢ä¹Ÿä¸‘ä¸‘çš„ã€‚ä»¥ä¸Šæ˜¯ä½¿ç”¨iterm2 + <g class="gr_ gr_18 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling" id="18" data-gr-id="18">zsh</g> + oh my <g class="gr_ gr_34 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling" id="34" data-gr-id="34">zsh</g> ä¹‹åçš„æ•ˆæœã€‚</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>é™¤äº†ç•Œé¢å¾ˆå¥½çœ‹è€Œå¤–ï¼Œè¿˜èƒ½å®ç°è¯¸å¦‚æ˜¾ç¤ºå½“å‰è·¯å¾„ã€ç³»ç»Ÿèµ„æºå ç”¨ã€gitçŠ¶æ€ç­‰ä¿¡æ¯ã€‚ä¸”æ‹¥æœ‰ä¸°å¯Œçš„å¯å®šåˆ¶åŒ–é€‰é¡¹ï¼Œè®©ä½ å¯ä»¥æ‰“é€ è‡ªå·±çš„ç»ˆç«¯ã€‚</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>æ¥ä¸‹æ¥å°±æ¥ä¸€æ­¥æ­¥å®šåˆ¶è‡ªå·±çš„ç»ˆç«¯å§ã€‚</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>å®‰è£… Homebrew</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œç²˜è´´å¦‚ä¸‹ä»£ç ï¼Œ è¿™å°†åœ¨ä½ çš„æœºå™¨ä¸Šå®‰è£…Homebrewï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·ã€‚ç±»ä¼¼ubuntué‡Œé¢çš„ <code>apt</code>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>å®‰è£… iTerm2 </h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>è¿™æ˜¯ç”¨æ¥æ›¿ä»£terminalçš„å·¥å…·ï¼Œæ—¢å¯ä»¥å»å®˜ç½‘ä¸‹è½½ï¼šhttps://www.iterm2.com/downloads.html</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>ä¹Ÿå¯ä»¥åˆ©ç”¨ä¸Šé¢å®‰è£…å¥½çš„ Homebrew ç›´æ¥å®‰è£…ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>brew cask install iterm2</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>å®‰è£… zsh</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>è¿˜æ˜¯ç›´æ¥ç”¨ homebrew æ¥å®‰è£…ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>brew install zsh</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>å®‰è£… oh-my-zsh</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>å¦‚æœä¸å®‰è£… oh-my-zshçš„è¯ï¼Œzshä¼šæ¯”è¾ƒéš¾ç”¨ã€‚OMZ æ˜¯ä¸€ä¸ªå¼€æºçš„ zsh é…ç½®ç®¡ç†å·¥å…·ï¼Œæ‹¥æœ‰å¾ˆå¤šä¸°å¯Œçš„åŠŸèƒ½ã€æ‰©å±•å’Œçš®è‚¤æ¥è®©å®šåˆ¶ä½ çš„zshã€‚å®‰è£…ä»£ç å¦‚ä¸‹</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>è‡ªå®šä¹‰çš®è‚¤ï¼š</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>ç½‘ä¸Šæœ‰å¾ˆå¤šçš„è‡ªå®šä¹‰çš®è‚¤å¯ä»¥ä¾›ä¸‹è½½ä½¿ç”¨ã€‚ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç°åœ¨æ¯”è¾ƒæµè¡Œçš„ Material é£æ ¼ï¼Œæ— è®ºæ˜¯ vscode è¿˜æ˜¯å…¶ä»–ç¼–è¾‘å™¨ï¼Œå‡æœ‰è¿™ä¸ªé£æ ¼çš„çš®è‚¤ï¼Œéå¸¸æ¸…æ–°ã€‚é¢„è§ˆå›¾å¦‚ä¸‹ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image --></p>
<figure class="wp-block-image"><img src="/assets/1*s6QZBNMEEwBQ5VwMy48Dbw.png" alt="" /><br />
<figcaption>https://github.com/MartinSeeler/iterm2-material-design/blob/master/img/screen-mock-1.jpg</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>1.ä¸‹è½½çš®è‚¤ï¼Œåœ¨ç»ˆç«¯ä¸­ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>$ cd Downloads
$ curl -O https://raw.githubusercontent.com/MartinSeeler/iterm2-material-design/master/material-design-colors.itermcolors</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>2. æ‰“å¼€ iTerm2ï¼Œ ç„¶ååˆ°<code>è®¾ç½®ï¼ˆpreferences)</code>â€”â€” <code>ç”¨æˆ·ï¼ˆprofilesï¼‰</code>â€”â€” <code>é¢œè‰²ï¼ˆcolorsï¼‰</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>3. ç‚¹å‡»åº•éƒ¨çš„ <code>é¢„è®¾é¢œè‰²... ï¼ˆColor Presets...ï¼‰ </code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>4. ç‚¹å‡»å¯¼å…¥ï¼Œç„¶åæ‰¾åˆ°ä¸‹è½½æ–‡ä»¶å¤¹é‡Œé¢åˆšæ‰ä¸‹è½½çš„æ‰©å±•åä¸º<code>itermcolors</code>çš„æ–‡ä»¶</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>5. å†ä»ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©åˆšå¯¼å…¥çš„çš®è‚¤æ–‡ä»¶ã€‚</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":32} --></p>
<figure class="wp-block-image"><img src="/assets/Screen-Shot-2019-01-01-at-12.28.22-AM-1024x493.png" alt="" class="wp-image-32" /><br />
<figcaption>åŠ è½½çš®è‚¤é…ç½®</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:heading {"level":3} --></p>
<h3>ç®¡ç†æ‰©å±•</h3>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>oh-my-zsh å†…ç»‘å®šäº†ä¸å°‘æ‰©å±•ï¼Œè¿™é‡Œæ˜¯åˆ—è¡¨ï¼šhttps://github.com/robbyrussell/oh-my-zsh/wiki/Plugins</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>ç»å¤§å¤šæ•°çš„æ‰©å±•éƒ½æœªé»˜è®¤å¯ç”¨ï¼Œè‹¥ä½ æƒ³å¯ç”¨æŸäº›æ‰©å±•ï¼Œéœ€è¦ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ã€‚</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>åœ¨ iterm2 ä¸­è¾“å…¥ä»¥ä¸‹ä»£ç æ¥ç¼–è¾‘å…¶é…ç½®æ–‡ä»¶ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>nano ~/.zshrc</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°å¦‚ä¸‹ä»£ç ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code># Add wisely, as too many plugins slow down shell startup.
plugins=(
  git
)</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>è¿™é‡Œå°±æ˜¯é…ç½®æ‰©å±•çš„åœ°æ–¹ï¼Œå¯ä»¥çœ‹åˆ°å…¶é»˜è®¤å¯åŠ¨äº†gitæ‰©å±•ã€‚è¦æ·»åŠ æ–°æ‰©å±•åªè¦åœ¨æ‹¬å·é‡ŒåŠ åå­—å³å¯ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œæ‰©å±•è¶Šå¤šï¼Œç»ˆç«¯å¯åŠ¨å’Œè¿è¡Œå°±è¶Šæ…¢ï¼Œæ‰€ä»¥æŒ‰éœ€æ·»åŠ ï¼Œæ¯”å¦‚æˆ‘åŠ å…¥pythonå¸¸ç”¨å·¥å…·pipï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>plugins=(
  git
  pip
)</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>è¿™æ ·å°±å·®ä¸å¤šé…ç½®å¥½äº†ã€‚æ›´å¤šé…ç½®è§è¿™é‡Œï¼šhttps://github.com/robbyrussell/oh-my-zsh/wiki</p>
<p><!-- /wp:paragraph --></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        20 DEC 2018
      </span>
      
      â€¢
      
        <a class="post-cat" href="https://momane.com/categories/#git">git</a>
        
        <span>/</span>
        
      
        <a class="post-cat" href="https://momane.com/categories/#programming">programming</a>
        
      
      
    </p>
    <h2>
      <a href="https://momane.com/git-delete-all-local-branches-and-keep-one" class="post-title" title="Git: åˆ é™¤æœ¬åœ°æ‰€æœ‰åˆ†æ”¯å¹¶ä¿ç•™å…¶ä¸­ä¸€ä¸ª">Git: åˆ é™¤æœ¬åœ°æ‰€æœ‰åˆ†æ”¯å¹¶ä¿ç•™å…¶ä¸­ä¸€ä¸ª</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><!-- wp:paragraph --></p>
<p>æœ¬åœ°åˆ†æ”¯å¤šäº†æƒ³åˆ æ‰ä¸€äº›ã€‚(ä¸‹é¢æ‰€æœ‰çš„å‘½ä»¤ä¸­è¿è¡Œæ—¶å‡éœ€è¦æŠŠ <code>BRANCH_NAME</code>  æ¢æˆè‡ªå·±è¦æ“ä½œçš„åˆ†æ”¯çš„åå­—)</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>å¸¸ç”¨çš„å‘½ä»¤æ˜¯</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>git branch -D `BRANCH_NAME`</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>å¯æ˜¯è¿™æ ·åªèƒ½ä¸€ä¸ªä¸ªåˆ é™¤ã€‚æ‰¹é‡åˆ é™¤å¹¶ä¿ç•™ä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚ <code>master</code>  åˆ†æ”¯çš„å‘½ä»¤å¯ä»¥ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>git branch | grep -v "BRANCH_NAME" | xargs git branch -D </code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>å¦‚æœä½ è¦ç»å¸¸è¿™ä¹ˆåšçš„è¯ï¼Œè¿˜å¯ä»¥ç»™è¿™æ¡å‘½ä»¤æ·»åŠ ä¸ªçŸ­åï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>alias gdbm="git branch | grep -v "BRANCH_NAME" | xargs git branch -D"</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>å¦‚æœè¦ä¿ç•™å¤šä¸ªåˆ†æ”¯ï¼Œå¯ä»¥åœ¨è¶³å‘½ä»¤ä¸­æ·»åŠ å¤šä¸ªåˆ†æ”¯çš„åå­—ï¼š<code>master\|develop\|test_branchã€‚</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>ä¸Šé¢çš„å‘½ä»¤å°±å˜æˆï¼š</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>git branch | grep -v "master\|develop\|test_branch" | xargs git branch -D </code></pre>
<p><!-- /wp:code --></p>

      </p>
    </div>
    

    

</section>

<section class="post">
  <header class="post-header">
    <p class="post-meta">
      <span class="post-date">
        15 DEC 2018
      </span>
      
    </p>
    <h2>
      <a href="https://momane.com/i-wont-reinstall-my-server-again/" class="post-title" title="I won&#39;t reinstall my server again">I won't reinstall my server again</a>
      
    </h2>

    

    </header>

    
    <div class="post-description">
      <p>
        <p><!-- wp:paragraph --></p>
<p>So I reinstalled my server again.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>lost all data.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>won't do this again</p>
<p><!-- /wp:paragraph --></p>

      </p>
    </div>
    

    

</section>


        <footer>
  &copy; 2021 Hank X. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a> made with <i class="fa fa-heart heart-icon"></i>
</footer>

      </div>
    </div>
  </div>
  
<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-49503690-1', 'auto');
  ga('send', 'pageview');
</script>



</body>
</html>
